<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-migrations/v7-to-v8" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">IBC-Go v7 to v8 | IBC-Go</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ibc.cosmos.network/img/ibc-go-docs-social-card.png"><meta data-rh="true" name="twitter:image" content="https://ibc.cosmos.network/img/ibc-go-docs-social-card.png"><meta data-rh="true" property="og:url" content="https://ibc.cosmos.network/main/migrations/v7-to-v8"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="IBC-Go v7 to v8 | IBC-Go"><meta data-rh="true" name="description" content="This guide provides instructions for migrating to version v8.0.0 of ibc-go."><meta data-rh="true" property="og:description" content="This guide provides instructions for migrating to version v8.0.0 of ibc-go."><link data-rh="true" rel="icon" href="/img/white-cosmos-icon.svg"><link data-rh="true" rel="canonical" href="https://ibc.cosmos.network/main/migrations/v7-to-v8"><link data-rh="true" rel="alternate" href="https://ibc.cosmos.network/main/migrations/v7-to-v8" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibc.cosmos.network/main/migrations/v7-to-v8" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HP8ZXWVLJG"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-HP8ZXWVLJG",{anonymize_ip:!0})</script>







<link rel="preconnect" href="https://www.clarity.ms">
<script>!function(t,e,n,c,a,i,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(i=e.createElement(c)).async=1,i.src="https://www.clarity.ms/tag/idk9udvhuu",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(i,r)}(window,document,"clarity","script")</script><link rel="stylesheet" href="/assets/css/styles.d9f1773c.css">
<link rel="preload" href="/assets/js/runtime~main.47cb0abf.js" as="script">
<link rel="preload" href="/assets/js/main.6d2c73db.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/main"><div class="navbar__logo"><img src="/img/black-ibc-logo.svg" alt="IBC Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/white-ibc-logo.svg" alt="IBC Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/main">Documentation</a><a class="navbar__item navbar__link" href="/architecture">Architecture Decision Records</a><a class="navbar__item navbar__link" href="/tutorials/intro">Tutorials</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/main">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/main/migrations/v7-to-v8">Next</a></li><li><a class="dropdown__link" href="/v8/migrations/v7-to-v8">v8.0.x</a></li><li><a class="dropdown__link" href="/v7">v7.3.x</a></li><li><a class="dropdown__link" href="/v6">v6.2.x</a></li><li><a class="dropdown__link" href="/v5">v5.3.x</a></li><li><a class="dropdown__link" href="/v4">v4.5.x</a></li></ul></div><a href="https://github.com/cosmos/ibc-go" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="github-icon">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0.300049C5.4 0.300049 0 5.70005 0 12.3001C0 17.6001 3.4 22.1001 8.2 23.7001C8.8 23.8001 9 23.4001 9 23.1001C9 22.8001 9 22.1001 9 21.1001C5.7 21.8001 5 19.5001 5 19.5001C4.5 18.1001 3.7 17.7001 3.7 17.7001C2.5 17.0001 3.7 17.0001 3.7 17.0001C4.9 17.1001 5.5 18.2001 5.5 18.2001C6.6 20.0001 8.3 19.5001 9 19.2001C9.1 18.4001 9.4 17.9001 9.8 17.6001C7.1 17.3001 4.3 16.3001 4.3 11.7001C4.3 10.4001 4.8 9.30005 5.5 8.50005C5.5 8.10005 5 6.90005 5.7 5.30005C5.7 5.30005 6.7 5.00005 9 6.50005C10 6.20005 11 6.10005 12 6.10005C13 6.10005 14 6.20005 15 6.50005C17.3 4.90005 18.3 5.30005 18.3 5.30005C19 7.00005 18.5 8.20005 18.4 8.50005C19.2 9.30005 19.6 10.4001 19.6 11.7001C19.6 16.3001 16.8 17.3001 14.1 17.6001C14.5 18.0001 14.9 18.7001 14.9 19.8001C14.9 21.4001 14.9 22.7001 14.9 23.1001C14.9 23.4001 15.1 23.8001 15.7 23.7001C20.5 22.1001 23.9 17.6001 23.9 12.3001C24 5.70005 18.6 0.300049 12 0.300049Z" fill="currentColor"/>
            </svg>
            </a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/main">IBC-Go Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/main/ibc/overview">Using IBC-Go</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/main/apps/transfer/overview">IBC Application Modules</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/main/ibc/light-clients/overview">IBC Light Clients</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/main/middleware/ics29-fee/overview">IBC Middleware Modules</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/main/migrations/support-denoms-with-slashes">Migrations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/support-denoms-with-slashes">Support transfer of coins whose base denom contains slashes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/sdk-to-v1">SDK v0.43 to IBC-Go v1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/v1-to-v2">IBC-Go v1 to v2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/v2-to-v3">IBC-Go v2 to v3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/v3-to-v4">IBC-Go v3 to v4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/v4-to-v5">IBC-Go v4 to v5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/v5-to-v6">IBC-Go v5 to v6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/v6-to-v7">IBC-Go v6 to v7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/v7-to-v7_1">IBC-Go v7 to v7.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/migrations/v7_2-to-v7_3">IBC-Go v7.2 to v7.3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/main/migrations/v7-to-v8">IBC-Go v7 to v8</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://github.com/cosmos/ibc" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true">Resources</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/cosmos/ibc" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">IBC Specification<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://buf.build/cosmos/ibc/docs/main" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Protobuf Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://tutorials.cosmos.network" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Developer Portal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/cosmos/awesome-cosmos" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Awesome Cosmos<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/cosmos/ibc-rs" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">ibc-rs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->IBC-Go<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/v7">latest version</a></b> (<!-- -->v7.3.x<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><span class="breadcrumbs__link">Migrations</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">IBC-Go v7 to v8</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Migrating from v7 to v8</h1><p>This guide provides instructions for migrating to version <code>v8.0.0</code> of ibc-go.</p><p>There are four sections based on the four potential user groups of this document:</p><ul><li><a href="#migrating-from-v7-to-v8">Migrating from v7 to v8</a><ul><li><a href="#chains">Chains</a><ul><li><a href="#cosmos-sdk-v050-upgrade">Cosmos SDK v0.50 upgrade</a></li><li><a href="#authority">Authority</a></li><li><a href="#testing-package">Testing package</a></li><li><a href="#params-migration">Params migration</a></li><li><a href="#governance-v1-migration">Governance V1 migration</a></li><li><a href="#transfer-migration">Transfer migration</a></li></ul></li><li><a href="#ibc-apps">IBC Apps</a><ul><li><a href="#ics20---transfer">ICS20 - Transfer</a></li><li><a href="#ics27---interchain-accounts">ICS27 - Interchain Accounts</a></li></ul></li><li><a href="#relayers">Relayers</a></li><li><a href="#ibc-light-clients">IBC Light Clients</a></li></ul></li></ul><p><strong>Note:</strong> ibc-go supports golang semantic versioning and therefore all imports must be updated on major version releases.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="chains">Chains<a href="#chains" class="hash-link" aria-label="Direct link to Chains" title="Direct link to Chains">​</a></h2><p>The type of the <code>PortKeeper</code> field of the IBC keeper have been changed to <code>*portkeeper.Keeper</code>:</p><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Keeper defines each ICS keeper for IBC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Keeper struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> // implements gRPC QueryServer interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> types.QueryServer</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> cdc codec.BinaryCodec</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ClientKeeper     clientkeeper.Keeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ConnectionKeeper connectionkeeper.Keeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ChannelKeeper    channelkeeper.Keeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> PortKeeper       portkeeper.Keeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> PortKeeper       *portkeeper.Keeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> Router           *porttypes.Router</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> authority string</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See <a href="https://github.com/cosmos/ibc-go/pull/4703/files#diff-d18972debee5e64f16e40807b2ae112ddbe609504a93ea5e1c80a5d489c3a08a" target="_blank" rel="noopener noreferrer">this PR</a> for the changes required in <code>app.go</code>.</p><p>An extra parameter <code>totalEscrowed</code> of type <code>sdk.Coins</code> has been added to transfer module&#x27;s <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/modules/apps/transfer/types/genesis.go#L10" target="_blank" rel="noopener noreferrer"><code>NewGenesisState</code> function</a>. This parameter specifies the total amount of tokens that are in the module&#x27;s escrow accounts.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cosmos-sdk-v050-upgrade">Cosmos SDK v0.50 upgrade<a href="#cosmos-sdk-v050-upgrade" class="hash-link" aria-label="Direct link to Cosmos SDK v0.50 upgrade" title="Direct link to Cosmos SDK v0.50 upgrade">​</a></h3><p>Version <code>v8.0.0</code> of ibc-go upgrades to Cosmos SDK v0.50. Please follow the <a href="https://github.com/cosmos/cosmos-sdk/blob/v0.50.1/UPGRADING.md" target="_blank" rel="noopener noreferrer">Cosmos SDK v0.50 upgrading guide</a> to account for its API breaking changes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authority">Authority<a href="#authority" class="hash-link" aria-label="Direct link to Authority" title="Direct link to Authority">​</a></h3><p>An authority identifier (e.g. an address) needs to be passed in the <code>NewKeeper</code> functions of the following keepers:</p><ul><li>You must pass the <code>authority</code> to the ica/host keeper (implemented in <a href="https://github.com/cosmos/ibc-go/pull/3520" target="_blank" rel="noopener noreferrer">#3520</a>). See <a href="https://github.com/cosmos/ibc-go/pull/3520/files#diff-d18972debee5e64f16e40807b2ae112ddbe609504a93ea5e1c80a5d489c3a08a" target="_blank" rel="noopener noreferrer">diff</a>:</li></ul><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// app.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ICA Host keeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.ICAHostKeeper = icahostkeeper.NewKeeper(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> appCodec, keys[icahosttypes.StoreKey], app.GetSubspace(icahosttypes.SubModuleName),</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.IBCFeeKeeper, // use ics29 fee as ics4Wrapper in middleware stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.IBCKeeper.ChannelKeeper, &amp;app.IBCKeeper.PortKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.AccountKeeper, scopedICAHostKeeper, app.MsgServiceRouter(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> authtypes.NewModuleAddress(govtypes.ModuleName).String(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>You must pass the <code>authority</code> to the ica/controller keeper (implemented in <a href="https://github.com/cosmos/ibc-go/pull/3590" target="_blank" rel="noopener noreferrer">#3590</a>). See <a href="https://github.com/cosmos/ibc-go/pull/3590/files#diff-d18972debee5e64f16e40807b2ae112ddbe609504a93ea5e1c80a5d489c3a08a" target="_blank" rel="noopener noreferrer">diff</a>:</li></ul><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// app.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ICA Controller keeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.ICAControllerKeeper = icacontrollerkeeper.NewKeeper(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> appCodec, keys[icacontrollertypes.StoreKey], app.GetSubspace(icacontrollertypes.SubModuleName),</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.IBCFeeKeeper, // use ics29 fee as ics4Wrapper in middleware stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.IBCKeeper.ChannelKeeper, &amp;app.IBCKeeper.PortKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> scopedICAControllerKeeper, app.MsgServiceRouter(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> authtypes.NewModuleAddress(govtypes.ModuleName).String(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>You must pass the <code>authority</code> to the ibctransfer keeper (implemented in <a href="https://github.com/cosmos/ibc-go/pull/3553" target="_blank" rel="noopener noreferrer">#3553</a>). See <a href="https://github.com/cosmos/ibc-go/pull/3553/files#diff-d18972debee5e64f16e40807b2ae112ddbe609504a93ea5e1c80a5d489c3a08a" target="_blank" rel="noopener noreferrer">diff</a>:</li></ul><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// app.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create Transfer Keeper and pass IBCFeeKeeper as expected Channel and PortKeeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// since fee middleware will wrap the IBCKeeper for underlying application.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.TransferKeeper = ibctransferkeeper.NewKeeper(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> appCodec, keys[ibctransfertypes.StoreKey], app.GetSubspace(ibctransfertypes.ModuleName),</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.IBCFeeKeeper, // ISC4 Wrapper: fee IBC middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.IBCKeeper.ChannelKeeper, &amp;app.IBCKeeper.PortKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.AccountKeeper, app.BankKeeper, scopedTransferKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> authtypes.NewModuleAddress(govtypes.ModuleName).String(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>You should pass the <code>authority</code> to the IBC keeper (implemented in <a href="https://github.com/cosmos/ibc-go/pull/3640" target="_blank" rel="noopener noreferrer">#3640</a> and <a href="https://github.com/cosmos/ibc-go/pull/3650" target="_blank" rel="noopener noreferrer">#3650</a>). See <a href="https://github.com/cosmos/ibc-go/pull/3640/files#diff-d18972debee5e64f16e40807b2ae112ddbe609504a93ea5e1c80a5d489c3a08a" target="_blank" rel="noopener noreferrer">diff</a>:</li></ul><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// app.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// IBC Keepers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.IBCKeeper = ibckeeper.NewKeeper(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> appCodec, </span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> keys[ibcexported.StoreKey],</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.GetSubspace(ibcexported.ModuleName),</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.StakingKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.UpgradeKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> scopedIBCKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> authtypes.NewModuleAddress(govtypes.ModuleName).String(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The authority determines the transaction signer allowed to execute certain messages (e.g. <code>MsgUpdateParams</code>).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing-package">Testing package<a href="#testing-package" class="hash-link" aria-label="Direct link to Testing package" title="Direct link to Testing package">​</a></h3><ul><li>The function <code>SetupWithGenesisAccounts</code> has been removed.</li><li>The function <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/testing/path.go#L66" target="_blank" rel="noopener noreferrer"><code>RelayPacketWithResults</code></a> has been added. This function returns the result of the packet receive transaction, the acknowledgement written on the receiving chain, an error if a relay step fails or the packet commitment does not exist on either chain.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="params-migration">Params migration<a href="#params-migration" class="hash-link" aria-label="Direct link to Params migration" title="Direct link to Params migration">​</a></h3><p>Params are now self managed in the following submodules:</p><ul><li>ica/controller <a href="https://github.com/cosmos/ibc-go/pull/3590" target="_blank" rel="noopener noreferrer">#3590</a></li><li>ica/host <a href="https://github.com/cosmos/ibc-go/pull/3520" target="_blank" rel="noopener noreferrer">#3520</a></li><li>ibc/connection <a href="https://github.com/cosmos/ibc-go/pull/3650" target="_blank" rel="noopener noreferrer">#3650</a></li><li>ibc/client <a href="https://github.com/cosmos/ibc-go/pull/3640" target="_blank" rel="noopener noreferrer">#3640</a></li><li>ibc/transfer <a href="https://github.com/cosmos/ibc-go/pull/3553" target="_blank" rel="noopener noreferrer">#3553</a></li></ul><p>Each module has a corresponding <code>MsgUpdateParams</code> message with a <code>Params</code> which can be specified in full to update the modules&#x27; <code>Params</code>.</p><p>Legacy params subspaces must still be initialised in app.go in order to successfully migrate from `x/params`` to the new self-contained approach. See reference <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/testing/simapp/app.go#L1007-L1012" target="_blank" rel="noopener noreferrer">this</a> for reference.</p><p>For new chains which do not rely on migration of parameters from <code>x/params</code>, an expected interface has been added for each module. This allows chain developers to provide <code>nil</code> as the <code>legacySubspace</code> argument to <code>NewKeeper</code> functions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="governance-v1-migration">Governance V1 migration<a href="#governance-v1-migration" class="hash-link" aria-label="Direct link to Governance V1 migration" title="Direct link to Governance V1 migration">​</a></h3><p>Proposals have been migrated to <a href="https://docs.cosmos.network/v0.50/modules/gov#messages" target="_blank" rel="noopener noreferrer">gov v1 messages</a> (see <a href="https://github.com/cosmos/ibc-go/pull/4620" target="_blank" rel="noopener noreferrer">#4620</a>). The proposal <code>ClientUpdateProposal</code> has been deprecated and <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/proto/ibc/core/client/v1/tx.proto#L121-L134" target="_blank" rel="noopener noreferrer"><code>MsgRecoverClient</code></a> should be used instead. Likewise, the proposal <code>UpgradeProposal</code> has been deprecated and <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/proto/ibc/core/client/v1/tx.proto#L139-L154" target="_blank" rel="noopener noreferrer"><code>MsgIBCSoftwareUpgrade</code></a> should be used instead. Both proposals will be removed in the next major release.</p><p><code>MsgRecoverClient</code> and <code>MsgIBCSoftwareUpgrade</code> will only be allowed to be executed if the signer is the authority designated at the time of instantiating the IBC keeper. So please make sure that the correct authority is provided to the IBC keeper.</p><p>Remove the <code>UpgradeProposalHandler</code> and <code>UpdateClientProposalHandler</code> from the <code>BasicModuleManager</code>:</p><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">app.BasicModuleManager = module.NewBasicManagerFromManager(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> app.ModuleManager,</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> map[string]module.AppModuleBasic{</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   genutiltypes.ModuleName: genutil.NewAppModuleBasic(genutiltypes.DefaultMessageValidator),</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   govtypes.ModuleName: gov.NewAppModuleBasic(</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     []govclient.ProposalHandler{</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     paramsclient.ProposalHandler,</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">     ibcclientclient.UpdateClientProposalHandler,</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">     ibcclientclient.UpgradeProposalHandler,</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   },</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Support for in-flight legacy recover client proposals (i.e. <code>ClientUpdateProposal</code>) will be made for v8, but chains should use <code>MsgRecoverClient</code> only afterwards to avoid in-flight client recovery failing when upgrading to v9. See <a href="https://github.com/cosmos/ibc-go/issues/4721" target="_blank" rel="noopener noreferrer">this issue</a> for more information.</p><p>Please note that ibc-go offers facilities to test an ibc-go upgrade:</p><ul><li>All e2e tests of the repository can be <a href="https://github.com/cosmos/ibc-go/blob/c5bac5e03a0eae449b9efe0d312258115c1a1e85/e2e/README.md#running-tests-with-custom-images" target="_blank" rel="noopener noreferrer">run with custom Docker chain images</a>.</li><li>An <a href="https://github.com/cosmos/ibc-go/blob/c5bac5e03a0eae449b9efe0d312258115c1a1e85/e2e/README.md#importable-workflow" target="_blank" rel="noopener noreferrer">importable workflow</a> that can be used from any other repository to test chain upgrades.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transfer-migration">Transfer migration<a href="#transfer-migration" class="hash-link" aria-label="Direct link to Transfer migration" title="Direct link to Transfer migration">​</a></h3><p>An <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/modules/apps/transfer/module.go#L136" target="_blank" rel="noopener noreferrer">automatic migration handler</a> is configured in the transfer module to set the <a href="https://github.com/cosmos/cosmos-sdk/blob/v0.50.1/proto/cosmos/bank/v1beta1/bank.proto#L96-L125" target="_blank" rel="noopener noreferrer">denomination metadata</a> for the IBC denominations of all vouchers minted by the transfer module.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ibc-apps">IBC Apps<a href="#ibc-apps" class="hash-link" aria-label="Direct link to IBC Apps" title="Direct link to IBC Apps">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ics20---transfer">ICS20 - Transfer<a href="#ics20---transfer" class="hash-link" aria-label="Direct link to ICS20 - Transfer" title="Direct link to ICS20 - Transfer">​</a></h3><ul><li>The function <code>IsBound</code> has been renamed to <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/modules/apps/transfer/keeper/keeper.go#L98" target="_blank" rel="noopener noreferrer"><code>hasCapability</code></a> and made unexported.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ics27---interchain-accounts">ICS27 - Interchain Accounts<a href="#ics27---interchain-accounts" class="hash-link" aria-label="Direct link to ICS27 - Interchain Accounts" title="Direct link to ICS27 - Interchain Accounts">​</a></h3><ul><li>Functions <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/modules/apps/27-interchain-accounts/types/codec.go#L32" target="_blank" rel="noopener noreferrer"><code>SerializeCosmosTx</code></a> and <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/modules/apps/27-interchain-accounts/types/codec.go#L76" target="_blank" rel="noopener noreferrer"><code>DeserializeCosmosTx</code></a> now accept an extra parameter <code>encoding</code> of type <code>string</code> that specifies the format in which the transaction messages are marshaled. Both <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/modules/apps/27-interchain-accounts/types/metadata.go#L14-L17" target="_blank" rel="noopener noreferrer">protobuf and proto3 JSON formats</a> are supported.</li><li>The function <code>IsBound</code> of controller submodule has been renamed to <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/modules/apps/27-interchain-accounts/controller/keeper/keeper.go#L111" target="_blank" rel="noopener noreferrer"><code>hasCapability</code></a> and made unexported.</li><li>The function <code>IsBound</code> of host submodule has been renamed to <a href="https://github.com/cosmos/ibc-go/blob/v8.0.0/modules/apps/27-interchain-accounts/host/keeper/keeper.go#L94" target="_blank" rel="noopener noreferrer"><code>hasCapability</code></a> and made unexported.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="relayers">Relayers<a href="#relayers" class="hash-link" aria-label="Direct link to Relayers" title="Direct link to Relayers">​</a></h2><ul><li>Getter functions in <code>MsgChannelOpenInitResponse</code>, <code>MsgChannelOpenTryResponse</code>, <code>MsgTransferResponse</code>, <code>MsgRegisterInterchainAccountResponse</code> and <code>MsgSendTxResponse</code> have been removed. The fields can be accessed directly.</li><li><code>channeltypes.EventTypeTimeoutPacketOnClose</code> (where <code>channeltypes</code> is an import alias for <code>&quot;github.com/cosmos/ibc-go/v8/modules/core/04-channel&quot;</code>) has been removed, since core IBC does not emit any event with this key.</li><li>Attribute with key <code>counterparty_connection_id</code> has been removed from event with key <code>connectiontypes.EventTypeConnectionOpenInit</code> (where <code>connectiontypes</code> is an import alias for <code>&quot;github.com/cosmos/ibc-go/v8/modules/core/03-connection/types&quot;</code>) and attribute with key <code>counterparty_channel_id</code> has been removed from event with key <code>channeltypes.EventTypeChannelOpenInit</code> (where <code>channeltypes</code> is an import alias for <code>&quot;github.com/cosmos/ibc-go/v8/modules/core/04-channel&quot;</code>) since both (counterparty connection ID and counterparty channel ID) are empty on <code>ConnectionOpenInit</code> and <code>ChannelOpenInit</code> respectively.</li><li>As part of the migration to <a href="#governance-v1-migration">governance V1 messages</a> the following changes in events have been made:</li></ul><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// IBC client events vars</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> EventTypeCreateClient          = &quot;create_client&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> EventTypeUpdateClient          = &quot;update_client&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> EventTypeUpgradeClient         = &quot;upgrade_client&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> EventTypeSubmitMisbehaviour    = &quot;client_misbehaviour&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> EventTypeUpdateClientProposal  = &quot;update_client_proposal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> EventTypeUpgradeClientProposal = &quot;upgrade_client_proposal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> EventTypeRecoverClient              = &quot;recover_client&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> EventTypeScheduleIBCSoftwareUpgrade = &quot;schedule_ibc_software_upgrade&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> EventTypeUpgradeChain               = &quot;upgrade_chain&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ibc-light-clients">IBC Light Clients<a href="#ibc-light-clients" class="hash-link" aria-label="Direct link to IBC Light Clients" title="Direct link to IBC Light Clients">​</a></h2><ul><li>Functions <code>Pretty</code> and <code>String</code> of type <code>MerklePath</code> have been <a href="https://github.com/cosmos/ibc-go/pull/4459/files#diff-dd94ec1dde9b047c0cdfba204e30dad74a81de202e3b09ac5b42f493153811af" target="_blank" rel="noopener noreferrer">removed</a>.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/main/migrations/v7_2-to-v7_3"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">IBC-Go v7.2 to v7.3</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#chains" class="table-of-contents__link toc-highlight">Chains</a><ul><li><a href="#cosmos-sdk-v050-upgrade" class="table-of-contents__link toc-highlight">Cosmos SDK v0.50 upgrade</a></li><li><a href="#authority" class="table-of-contents__link toc-highlight">Authority</a></li><li><a href="#testing-package" class="table-of-contents__link toc-highlight">Testing package</a></li><li><a href="#params-migration" class="table-of-contents__link toc-highlight">Params migration</a></li><li><a href="#governance-v1-migration" class="table-of-contents__link toc-highlight">Governance V1 migration</a></li><li><a href="#transfer-migration" class="table-of-contents__link toc-highlight">Transfer migration</a></li></ul></li><li><a href="#ibc-apps" class="table-of-contents__link toc-highlight">IBC Apps</a><ul><li><a href="#ics20---transfer" class="table-of-contents__link toc-highlight">ICS20 - Transfer</a></li><li><a href="#ics27---interchain-accounts" class="table-of-contents__link toc-highlight">ICS27 - Interchain Accounts</a></li></ul></li><li><a href="#relayers" class="table-of-contents__link toc-highlight">Relayers</a></li><li><a href="#ibc-light-clients" class="table-of-contents__link toc-highlight">IBC Light Clients</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://cosmos.network"><img src="/img/cosmos-logo-bw.svg" alt="Cosmos Logo"></a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://hermes.informal.systems/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hermes Relayer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://hub.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos Hub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.cometbft.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">CometBFT<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/Wtmk6ZNa8G" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/interchain_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@interchain_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Other Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cosmos/relayer" target="_blank" rel="noopener noreferrer" class="footer__link-item">Go Relayer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/cosmos/ibc-rs" target="_blank" rel="noopener noreferrer" class="footer__link-item">ibc-rs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/strangelove-ventures/interchaintest" target="_blank" rel="noopener noreferrer" class="footer__link-item">interchaintest<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://cosmwasm.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cosmos/ibc-go" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.ibcprotocol.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBC Protocol Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://v1.cosmos.network/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/black-large-ibc-logo.svg" alt="Large IBC Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="275"><img src="/img/white-large-ibc-logo.svg" alt="Large IBC Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="275"></div><div class="footer__copyright"><p>The development of IBC-Go is led primarily by <a href="https://interchain.berlin/">Interchain GmbH</a>. Funding for this development comes primarily from the Interchain Foundation, a Swiss non-profit.</p></div></div></div></footer></div>
<script src="/assets/js/runtime~main.47cb0abf.js"></script>
<script src="/assets/js/main.6d2c73db.js"></script>
</body>
</html>