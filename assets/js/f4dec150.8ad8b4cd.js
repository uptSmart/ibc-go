"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2817],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,h=c["".concat(s,".").concat(m)]||c[m]||u[m]||i;return n?a.createElement(h,o(o({ref:t},d),{},{components:n})):a.createElement(h,o({ref:t},d))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},26247:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var a=n(87462),r=(n(67294),n(3905)),i=n(84924);const o={title:"Wire Up the ICS-29 Fee Middleware to a Cosmos SDK Blockchain",sidebar_label:"Wire Up the ICS-29 Fee Middleware to a Cosmos SDK Blockchain",sidebar_position:4,slug:"/fee/wire-feeibc-mod"},l="Wire up the ICS-29 Fee Middleware to a Cosmos SDK blockchain",s={unversionedId:"fee/wire-feeibc-mod",id:"fee/wire-feeibc-mod",title:"Wire Up the ICS-29 Fee Middleware to a Cosmos SDK Blockchain",description:"In this section, you will:",source:"@site/tutorials/01-fee/04-wire-feeibc-mod.md",sourceDirName:"01-fee",slug:"/fee/wire-feeibc-mod",permalink:"/tutorials/fee/wire-feeibc-mod",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Wire Up the ICS-29 Fee Middleware to a Cosmos SDK Blockchain",sidebar_label:"Wire Up the ICS-29 Fee Middleware to a Cosmos SDK Blockchain",sidebar_position:4,slug:"/fee/wire-feeibc-mod"},sidebar:"defaultSidebar",previous:{title:"Scaffold a Cosmos SDK Blockchain with Ignite",permalink:"/tutorials/fee/scaffold-chain"},next:{title:"Scaffold a React App",permalink:"/tutorials/fee/scaffold-react"}},p={},d=[{value:"1. Wire up the ICS-29 Fee Middleware as a Cosmos SDK module",id:"1-wire-up-the-ics-29-fee-middleware-as-a-cosmos-sdk-module",level:2},{value:"1.1. Add the Fee Middleware to the module managers and define its account permissions",id:"11-add-the-fee-middleware-to-the-module-managers-and-define-its-account-permissions",level:3},{value:"1.2. Initialize the Fee Middleware keeper",id:"12-initialize-the-fee-middleware-keeper",level:3},{value:"1.3. Add the Fee Middleware to SetOrderBeginBlockers, SetOrderEndBlockers, and genesisModuleOrder",id:"13-add-the-fee-middleware-to-setorderbeginblockers-setorderendblockers-and-genesismoduleorder",level:3},{value:"2. Wire up the ICS-29 Fee Middleware to the IBC Transfer stack",id:"2-wire-up-the-ics-29-fee-middleware-to-the-ibc-transfer-stack",level:2},{value:"2.1. Wire up the ICS-29 Fee Middleware to the <code>TransferKeeper</code>",id:"21-wire-up-the-ics-29-fee-middleware-to-the-transferkeeper",level:3},{value:"2.2. Wire up the ICS-29 Fee Middleware to the <code>TransferModule</code>",id:"22-wire-up-the-ics-29-fee-middleware-to-the-transfermodule",level:3}],c={toc:d},u="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"wire-up-the-ics-29-fee-middleware-to-a-cosmos-sdk-blockchain"},"Wire up the ICS-29 Fee Middleware to a Cosmos SDK blockchain"),(0,r.kt)(i.Z,{type:"learning",title:"Learning Goals",mdxType:"HighlightBox"},(0,r.kt)("p",null,"In this section, you will:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Add the ICS-29 Fee Middleware to a Cosmos SDK blockchain as a module."),(0,r.kt)("li",{parentName:"ul"},"Wire up the ICS-29 Fee Middleware to the IBC transfer stack."))),(0,r.kt)("h2",{id:"1-wire-up-the-ics-29-fee-middleware-as-a-cosmos-sdk-module"},"1. Wire up the ICS-29 Fee Middleware as a Cosmos SDK module"),(0,r.kt)("p",null,"The Fee Middleware is not just an IBC middleware, it is also a Cosmos SDK module since it manages its own state and defines its own messages.\nWe will first wire up the Fee Middleware as a Cosmos SDK module, then we will wire it up to the IBC transfer stack."),(0,r.kt)("p",null,"Cosmos SDK modules are registered in the ",(0,r.kt)("inlineCode",{parentName:"p"},"app/app.go")," file. The ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file is the entry point for the Cosmos SDK application. It is where the application is initialized and where the application's modules are registered."),(0,r.kt)("p",null,"We first need to import the ",(0,r.kt)("inlineCode",{parentName:"p"},"fee")," module into the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file. Add the following import statements to the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'reference title="app/app.go"',reference:!0,title:'"app/app.go"'},"https://github.com/srdtrk/cosmoverse2023-ibc-fee-demo/blob/64e572214b4ba9a1075db96440dd83d4b90a6052/app/app.go#L99-L101\n")),(0,r.kt)("h3",{id:"11-add-the-fee-middleware-to-the-module-managers-and-define-its-account-permissions"},"1.1. Add the Fee Middleware to the module managers and define its account permissions"),(0,r.kt)("p",null,"Next, we need to add ",(0,r.kt)("inlineCode",{parentName:"p"},"fee")," module to the module basic manager and define its account permissions. Add the following code to the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="app/app.go"',title:'"app/app.go"'},"    // ModuleBasics defines the module BasicManager is in charge of setting up basic,\n    // non-dependant module elements, such as codec registration\n    // and genesis verification.\n    ModuleBasics = module.NewBasicManager(\n        // ... other modules\n        evidence.AppModuleBasic{},\n        transfer.AppModuleBasic{},\n        ica.AppModuleBasic{},\n        vesting.AppModuleBasic{},\n        // plus-diff-line \n+       ibcfee.AppModuleBasic{},\n        consensus.AppModuleBasic{},\n        // this line is used by starport scaffolding # stargate/app/moduleBasic\n    )\n\n    // module account permissions\n    maccPerms = map[string][]string{\n        authtypes.FeeCollectorName:     nil,\n        distrtypes.ModuleName:          nil,\n        icatypes.ModuleName:            nil,\n        minttypes.ModuleName:           {authtypes.Minter},\n        stakingtypes.BondedPoolName:    {authtypes.Burner, authtypes.Staking},\n        stakingtypes.NotBondedPoolName: {authtypes.Burner, authtypes.Staking},\n        govtypes.ModuleName:            {authtypes.Burner},\n        ibctransfertypes.ModuleName:    {authtypes.Minter, authtypes.Burner},\n        // plus-diff-line \n+       ibcfeetypes.ModuleName:         nil,\n        // this line is used by starport scaffolding # stargate/app/maccPerms\n    }\n")),(0,r.kt)("p",null,"Next, we need to add the fee middleware to the module manager. Add the following code to the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="app/app.go"',title:'"app/app.go"'},"    app.mm = module.NewManager(\n        // ... other modules\n        consensus.NewAppModule(appCodec, app.ConsensusParamsKeeper),\n        ibc.NewAppModule(app.IBCKeeper),\n        params.NewAppModule(app.ParamsKeeper),\n        transferModule,\n        // plus-diff-line \n+       ibcfee.NewAppModule(app.IBCFeeKeeper),\n        icaModule,\n        // this line is used by starport scaffolding # stargate/app/appModule\n\n        crisis.NewAppModule(app.CrisisKeeper, skipGenesisInvariants, app.GetSubspace(crisistypes.ModuleName)), // always be last to make sure that it checks for all invariants and not only part of them\n    )\n")),(0,r.kt)("p",null,"Note that we have added ",(0,r.kt)("inlineCode",{parentName:"p"},"ibcfee.NewAppModule(app.IBCFeeKeeper)")," to the module manager but we have not yet created nor initialized the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.IBCFeeKeeper"),". We will do that next."),(0,r.kt)("h3",{id:"12-initialize-the-fee-middleware-keeper"},"1.2. Initialize the Fee Middleware keeper"),(0,r.kt)("p",null,"Next, we need to add the fee middleware keeper to the Cosmos App, register its store key, and initialize it."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="app/app.go"',title:'"app/app.go"'},"// App extends an ABCI application, but with most of its parameters exported.\n// They are exported for convenience in creating helper functions, as object\n// capabilities aren't needed for testing.\ntype App struct {\n    // ... other fields\n    UpgradeKeeper         *upgradekeeper.Keeper\n    ParamsKeeper          paramskeeper.Keeper\n    IBCKeeper             *ibckeeper.Keeper // IBC Keeper must be a pointer in the app, so we can SetRouter on it correctly\n    // plus-diff-line \n+   IBCFeeKeeper          ibcfeekeeper.Keeper\n    EvidenceKeeper        evidencekeeper.Keeper\n    TransferKeeper        ibctransferkeeper.Keeper\n    ICAHostKeeper         icahostkeeper.Keeper\n    // ... other fields\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="app/app.go"',title:'"app/app.go"'},"keys := sdk.NewKVStoreKeys(\n        authtypes.StoreKey, authz.ModuleName, banktypes.StoreKey, stakingtypes.StoreKey,\n        crisistypes.StoreKey, minttypes.StoreKey, distrtypes.StoreKey, slashingtypes.StoreKey,\n        govtypes.StoreKey, paramstypes.StoreKey, ibcexported.StoreKey, upgradetypes.StoreKey,\n        feegrant.StoreKey, evidencetypes.StoreKey, ibctransfertypes.StoreKey, icahosttypes.StoreKey,\n        capabilitytypes.StoreKey, group.StoreKey, icacontrollertypes.StoreKey, consensusparamtypes.StoreKey,\n        // plus-diff-line \n+       ibcfeetypes.StoreKey,\n        // this line is used by starport scaffolding # stargate/app/storeKey\n    )\n")),(0,r.kt)("p",null,"Then initialize the keeper: "),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Make sure to do the following initialization after the ",(0,r.kt)("inlineCode",{parentName:"p"},"IBCKeeper")," is initialized and before ",(0,r.kt)("inlineCode",{parentName:"p"},"TransferKeeper")," is initialized.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'reference title="app/app.go"',reference:!0,title:'"app/app.go"'},"https://github.com/srdtrk/cosmoverse2023-ibc-fee-demo/blob/64e572214b4ba9a1075db96440dd83d4b90a6052/app/app.go#L452-L458\n")),(0,r.kt)("h3",{id:"13-add-the-fee-middleware-to-setorderbeginblockers-setorderendblockers-and-genesismoduleorder"},"1.3. Add the Fee Middleware to SetOrderBeginBlockers, SetOrderEndBlockers, and genesisModuleOrder"),(0,r.kt)("p",null,"Next, we need to add the fee middleware to the ",(0,r.kt)("inlineCode",{parentName:"p"},"SetOrderBeginBlockers"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"SetOrderEndBlockers"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"genesisModuleOrder")," functions. Add the following code to the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="app/app.go"',title:'"app/app.go"'},"    // During begin block slashing happens after distr.BeginBlocker so that\n    // there is nothing left over in the validator fee pool, so as to keep the\n    // CanWithdrawInvariant invariant.\n    // NOTE: staking module is required if HistoricalEntries param > 0\n    app.mm.SetOrderBeginBlockers(\n        // ... other modules\n        icatypes.ModuleName,\n        // plus-diff-line\n+       ibcfeetypes.ModuleName,\n        genutiltypes.ModuleName,\n        // ... other modules\n        consensusparamtypes.ModuleName,\n        // this line is used by starport scaffolding # stargate/app/beginBlockers\n    )\n\n    app.mm.SetOrderEndBlockers(\n        // ... other modules\n        icatypes.ModuleName,\n        // plus-diff-line\n+       ibcfeetypes.ModuleName,\n        capabilitytypes.ModuleName,\n        // ... other modules\n        consensusparamtypes.ModuleName,\n        // this line is used by starport scaffolding # stargate/app/endBlockers\n    )\n\n    // NOTE: The genutils module must occur after staking so that pools are\n    // properly initialized with tokens from genesis accounts.\n    // NOTE: Capability module must occur first so that it can initialize any capabilities\n    // so that other modules that want to create or claim capabilities afterwards in InitChain\n    // can do so safely.\n    genesisModuleOrder := []string{\n        // ... other modules\n        icatypes.ModuleName,\n        // plus-diff-line\n+       ibcfeetypes.ModuleName,\n        evidencetypes.ModuleName,\n        // ... other modules\n        consensusparamtypes.ModuleName,\n        // this line is used by starport scaffolding # stargate/app/initGenesis\n    }\n    app.mm.SetOrderInitGenesis(genesisModuleOrder...)\n    app.mm.SetOrderExportGenesis(genesisModuleOrder...)\n")),(0,r.kt)("h2",{id:"2-wire-up-the-ics-29-fee-middleware-to-the-ibc-transfer-stack"},"2. Wire up the ICS-29 Fee Middleware to the IBC Transfer stack"),(0,r.kt)("h3",{id:"21-wire-up-the-ics-29-fee-middleware-to-the-transferkeeper"},"2.1. Wire up the ICS-29 Fee Middleware to the ",(0,r.kt)("inlineCode",{parentName:"h3"},"TransferKeeper")),(0,r.kt)("p",null,"The ICS-29 Fee Middleware Keeper implements ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/cosmos/ibc-go/blob/v7.3.0/modules/core/05-port/types/module.go#L109-L133"},(0,r.kt)("inlineCode",{parentName:"a"},"ICS4Wrapper"))," interface. This means that the ",(0,r.kt)("inlineCode",{parentName:"p"},"IBCFeeKeeper")," wraps the ",(0,r.kt)("inlineCode",{parentName:"p"},"IBCKeeper.ChannelKeeper")," and that it can replace the use of the ",(0,r.kt)("inlineCode",{parentName:"p"},"ChannelKeeper")," for sending packets, writing acknowledgements, and retrieving the IBC channel version."),(0,r.kt)("p",null,"We need to replace the ",(0,r.kt)("inlineCode",{parentName:"p"},"ChannelKeeper")," with the ",(0,r.kt)("inlineCode",{parentName:"p"},"IBCFeeKeeper")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"TransferKeeper"),". To do this, we need to modify the ",(0,r.kt)("inlineCode",{parentName:"p"},"TransferKeeper")," initialization in the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="app/app.go"',title:'"app/app.go"'},"    // Create Transfer Keepers\n    app.TransferKeeper = ibctransferkeeper.NewKeeper(\n        appCodec,\n        keys[ibctransfertypes.StoreKey],\n        app.GetSubspace(ibctransfertypes.ModuleName),\n        // minus-diff-line \n-       app.IBCKeeper.ChannelKeeper,\n        // plus-diff-line \n+       app.IBCFeeKeeper,\n        app.IBCKeeper.ChannelKeeper,\n        &app.IBCKeeper.PortKeeper,\n        app.AccountKeeper,\n        app.BankKeeper,\n        scopedTransferKeeper,\n    )\n")),(0,r.kt)("h3",{id:"22-wire-up-the-ics-29-fee-middleware-to-the-transfermodule"},"2.2. Wire up the ICS-29 Fee Middleware to the ",(0,r.kt)("inlineCode",{parentName:"h3"},"TransferModule")),(0,r.kt)("p",null,"Currently, our ",(0,r.kt)("inlineCode",{parentName:"p"},"app/app.go")," only contains the transfer module, which is a regular SDK AppModule (that manages state and has its own messages) that also fulfills the ",(0,r.kt)("inlineCode",{parentName:"p"},"IBCModule")," interface and therefore has the ability to handle both channel handshake and packet lifecycle callbacks."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The transfer module is instantiated two times, once as a regular SDK module and once as an IBC module."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'reference title="app/app.go"',reference:!0,title:'"app/app.go"'},"https://github.com/srdtrk/cosmoverse2023-ibc-fee-demo/blob/0f41b3c6b4e065aa1a860de3e3038d489c37a28a/app/app.go#L457-L458\n"))),(0,r.kt)("p",null,'We therefore need to "convert" the ',(0,r.kt)("inlineCode",{parentName:"p"},"transferIBCModule")," to an IBC application stack that includes both the ",(0,r.kt)("inlineCode",{parentName:"p"},"transferIBCModule")," and the ICS-29 Fee Middleware. Modify the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="app/app.go"',title:'"app/app.go"'},"    transferModule := transfer.NewAppModule(app.TransferKeeper)\n    // minus-diff-line \n-   transferIBCModule := transfer.NewIBCModule(app.TransferKeeper)\n    // plus-diff-start\n+\n+   /**** IBC Transfer Stack ****/\n+   var transferStack ibcporttypes.IBCModule\n+   transferStack = transfer.NewIBCModule(app.TransferKeeper)\n+   transferStack = ibcfee.NewIBCMiddleware(transferStack, app.IBCFeeKeeper)\n    // plus-diff-end \n")),(0,r.kt)("p",null,"And finally, we need to add the ",(0,r.kt)("inlineCode",{parentName:"p"},"transferStack")," to the ",(0,r.kt)("inlineCode",{parentName:"p"},"ibcRouter"),". Modify the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go",metastring:'title="app/app.go"',title:'"app/app.go"'},"    ibcRouter.AddRoute(icahosttypes.SubModuleName, icaHostIBCModule).\n        // minus-diff-line \n-       AddRoute(ibctransfertypes.ModuleName, transferIBCModule)\n        // plus-diff-line \n+       AddRoute(ibctransfertypes.ModuleName, transferStack)\n")),(0,r.kt)("p",null,"This completes the wiring of the ICS-29 Fee Middleware to the IBC transfer stack! See a full example of the ",(0,r.kt)("inlineCode",{parentName:"p"},"app.go")," file with the fee middleware wired up ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/srdtrk/cosmoverse2023-ibc-fee-demo/blob/64e572214b4ba9a1075db96440dd83d4b90a6052/app/app.go"},"here")," and the diff ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/srdtrk/cosmoverse2023-ibc-fee-demo/commit/64e572214b4ba9a1075db96440dd83d4b90a6052"},"here"),". Test that the application is still running with ",(0,r.kt)("inlineCode",{parentName:"p"},"ignite chain serve --reset-once"),", and quit with ",(0,r.kt)("inlineCode",{parentName:"p"},"q"),"."))}m.isMDXComponent=!0},84924:(e,t,n)=>{n.d(t,{Z:()=>j});var a,r=n(67294);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}const o=e=>{let{title:t,titleId:n,...o}=e;return r.createElement("svg",i({width:21,height:23,viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,a||(a=r.createElement("path",{d:"M9.302 22.2c-.1 0-.3 0-.4-.1-.4-.2-.6-.6-.6-1l.9-6.9h-7.9c-.4 0-.7-.2-.9-.6-.2-.4-.1-.8.1-1.1l10-12c.3-.3.8-.5 1.2-.3.4.2.6.6.6 1l-.9 6.9h7.9c.4 0 .7.2.9.6.2.4.1.8-.1 1.1l-10 12c-.2.3-.5.4-.8.4Zm-5.9-10h6.9c.3 0 .6.1.7.3.2.2.3.5.2.8l-.6 4.6 6.4-7.7h-6.9c-.3 0-.6-.1-.7-.3-.2-.2-.3-.5-.2-.8l.6-4.6-6.4 7.7Z",fill:"#fff"})))};var l;function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}const p=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",s({width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,l||(l=r.createElement("path",{d:"M8.3 9.2h-7c-.6 0-1-.4-1-1v-7c0-.6.4-1 1-1h7c.6 0 1 .4 1 1v7c0 .5-.5 1-1 1Zm-6-2h5v-5h-5v5ZM19.3 9.2h-7c-.6 0-1-.4-1-1v-7c0-.6.4-1 1-1h7c.6 0 1 .4 1 1v7c0 .5-.5 1-1 1Zm-6-2h5v-5h-5v5ZM19.3 20.2h-7c-.6 0-1-.4-1-1v-7c0-.6.4-1 1-1h7c.6 0 1 .4 1 1v7c0 .5-.5 1-1 1Zm-6-2h5v-5h-5v5ZM8.3 20.2h-7c-.6 0-1-.4-1-1v-7c0-.6.4-1 1-1h7c.6 0 1 .4 1 1v7c0 .5-.5 1-1 1Zm-6-2h5v-5h-5v5Z",fill:"#200F31"})))};var d;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}const u=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",c({width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,d||(d=r.createElement("path",{d:"M11.3.2C5.2.2.3 5.1.3 11.2s4.9 11 11 11 11-4.9 11-11-4.9-11-11-11Zm1 19.9v-2.9c0-.6-.4-1-1-1s-1 .4-1 1v2.9c-4.2-.5-7.5-3.8-7.9-7.9h2.9c.6 0 1-.4 1-1s-.4-1-1-1H2.4c.5-4.2 3.8-7.5 7.9-7.9v2.9c0 .6.4 1 1 1s1-.4 1-1V2.3c4.2.5 7.5 3.8 7.9 7.9h-2.9c-.6 0-1 .4-1 1s.4 1 1 1h2.9c-.4 4.2-3.7 7.5-7.9 7.9Z",fill:"#fff"})))};var m;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}const f=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",h({width:23,height:22,viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,m||(m=r.createElement("path",{d:"M17.503 21.2c-.2 0-.3 0-.5-.1l-5.7-3-5.7 3c-.3.2-.7.1-1.1-.1-.3-.2-.5-.6-.4-1l1.1-6.4-4.6-4.5c-.3-.3-.4-.7-.3-1 .1-.4.4-.6.8-.7l6.4-.9 2.9-5.8c.3-.7 1.5-.7 1.8 0l2.9 5.8 6.4.9c.4.1.7.3.8.7.1.4 0 .8-.3 1l-4.6 4.5 1.1 6.4c.1.4-.1.8-.4 1-.2.1-.4.2-.6.2ZM3.403 9.1l3.5 3.5c.2.2.3.6.3.9l-.8 4.9 4.4-2.3c.3-.2.6-.2.9 0l4.4 2.3-.8-4.9c-.1-.3.1-.7.3-.9l3.5-3.5-4.9-.7c-.3 0-.6-.3-.8-.5l-2.2-4.4-2.2 4.4c-.1.3-.4.5-.8.5l-4.8.7Z",fill:"#fff"})))};var g;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(this,arguments)}const b=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",k({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,g||(g=r.createElement("path",{d:"M14.5 21.2H11m7.7-12.5a6 6 0 0 0-12 0c0 2.3 2.4 4.4 3 5.8 1 1.8 1 3.2 1 3.2h4s0-1.4 1-3.2c.7-1.4 3-3.2 3-5.8Z",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};var w;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y.apply(this,arguments)}const v=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",y({width:17,height:21,viewBox:"0 0 17 21",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,w||(w=r.createElement("path",{d:"M5.3 14.5h6c.6 0 1 .4 1 1s-.4 1-1 1h-6c-.6 0-1-.4-1-1 0-.5.4-1 1-1Zm0-4h6c.6 0 1 .4 1 1s-.4 1-1 1h-6c-.6 0-1-.4-1-1 0-.5.4-1 1-1Zm5-10h-8c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-12l-6-6Zm4 18h-12v-16h7v3c0 1.1.9 2 2 2h3v11Z",fill:"#1A1A1A"})))};var C;function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},M.apply(this,arguments)}const N=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",M({width:24,height:23,viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,C||(C=r.createElement("path",{d:"M18.203 7.2h-17c-.6 0-1 .4-1 1v9c0 2.8 2.2 5 5 5h8c2.8 0 5-2.2 5-5 2.8 0 5-2.2 5-5s-2.3-5-5-5Zm-2 10c0 1.7-1.3 3-3 3h-8c-1.7 0-3-1.3-3-3v-8h14v8Zm2-2v-6c1.7 0 3 1.3 3 3 0 1.6-1.4 3-3 3ZM5.203 5.2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1s-1 .4-1 1v3c0 .5.4 1 1 1ZM9.203 5.2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1s-1 .4-1 1v3c0 .5.4 1 1 1ZM13.203 5.2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1s-1 .4-1 1v3c0 .5.4 1 1 1Z",fill:"#fff"})))};var B;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},S.apply(this,arguments)}const K=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,B||(B=r.createElement("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10ZM12 16v-4M12 8h.01",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};var O;function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},I.apply(this,arguments)}const E=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",I({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,O||(O=r.createElement("path",{d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0v0ZM12 9v4M12 17h.01",stroke:"#000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},x={tip:{color1:"#336667",color2:"#00B067",icon:r.createElement(b,null),darkMode:!0},reading:{color1:"#F46800",color2:"#F24CF4",icon:r.createElement(o,null),darkMode:!1},info:{color1:"#336667",color2:"#00B067",icon:r.createElement(K,null),darkMode:!0},warn:{color1:"#00B067",color2:"#FFD303",icon:r.createElement(E,null),darkMode:!1},warning:{color1:"#00B067",color2:"#FFD303",icon:r.createElement(E,null),darkMode:!1},synopsis:{color1:"#1c1c1c",color2:"#1c1c1c",icon:null,darkMode:!0},prerequisite:{color1:"lightgray",color2:"lightgray",icon:r.createElement(p,null),darkMode:!1},learning:{color1:"#6836D0",color2:"#05BDFC",icon:r.createElement(u,null),darkMode:!0},"best-practice":{color1:"#6836D0",color2:"#6836D0",icon:r.createElement(f,null),darkMode:!0},remember:{color1:"#6D0000",color2:"#F66800",icon:r.createElement(b,null),darkMode:!0},note:{color1:"#F69900",color2:"#FFCE15",icon:r.createElement(v,null),darkMode:!1},docs:{color1:"#6836D0",color2:"#F44CF6",icon:r.createElement(N,null),darkMode:!0}},F=e=>{let{color1:t,color2:n}=e;return{background:`linear-gradient(78.06deg, ${t} 1.14%, ${n} 98.88%)`,border:0,borderRadius:16,padding:"0 30px",display:"flex",width:"100%",justifyContent:"start",marginBottom:20,fontSize:21,flexWrap:"wrap",flexDirection:"column"}};const j=function(e){let{type:t,title:n,children:a}=e;const i=x[t]||x.info,o={backgroundColor:"var(--docusaurus-highlighted-code-line-bg)"},l={alignSelf:"center",marginTop:"10px",filter:i.darkMode?"brightness(0) invert(1)":"brightness(0)"},s={marginTop:"10px",marginLeft:"10px",color:i.darkMode?"#e6e6e6":"black"},p={color:i.darkMode?"#e6e6e6":"black",marginBottom:"10px"},d=r.Children.map(a,(e=>"a"===e.type?r.cloneElement(e,{style:anchorStyle}):"code"===e.type?r.cloneElement(e,{style:o}):e));return r.createElement("div",{style:F(i),className:"highlightBox"},r.createElement("style",null,`\n          .highlightBox a {\n            color: ${i.darkMode?"blue":"#85c1e9"} !important;\n          }\n        `),r.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"}},r.createElement("div",{style:l},i.icon),r.createElement("h3",{style:s},n)),r.createElement("div",{style:p},d))}}}]);